{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","isLoading","cart","payload","filter","cartItem","id","tempCart","map","amount","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","removeItem","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.285efd05.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === 'loading') {\r\n    return { ...state, isLoading: true }\r\n  }\r\n  if (action.type === 'display_items') {\r\n    return { ...state, cart: action.payload, isLoading: false }\r\n  }\r\n  if (action.type === 'clear_cart') {\r\n    return { ...state, cart: [] }\r\n  }\r\n  if (action.type === 'remove') {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((cartItem) => cartItem.id !== action.payload)\r\n    }\r\n  }\r\n  if (action.type === 'increase') {\r\n    let tempCart = state.cart.map((cartItem) => {\r\n      if (cartItem.id === action.payload) {\r\n        return { ...cartItem, amount: cartItem.amount + 1 }\r\n      }\r\n      return cartItem\r\n    })\r\n\r\n    return { ...state, cart: tempCart }\r\n  }\r\n  if (action.type === 'decrease') {\r\n    let tempCart = state.cart\r\n      .map((cartItem) => {\r\n        if (cartItem.id === action.payload) {\r\n          return { ...cartItem, amount: cartItem.amount - 1 }\r\n        }\r\n        return cartItem\r\n      })\r\n      .filter((cartItem) => cartItem.amount !== 0)\r\n\r\n    return { ...state, cart: tempCart }\r\n  }\r\n  if (action.type === 'get_totals') {\r\n    debugger\r\n    let { total, amount } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const { price, amount } = cartItem;\r\n        const itemTotal = price * amount;\r\n\r\n        cartTotal.total += itemTotal;\r\n        cartTotal.amount += amount;\r\n        return cartTotal\r\n      },\r\n      {\r\n        total: 0,\r\n        amount: 0,\r\n      }\r\n    )\r\n    total = parseFloat(total.toFixed(2))\r\n\r\n    return { ...state, total, amount }\r\n  }\r\n  throw new Error('no matching action type')\r\n}\r\n\r\nexport default reducer","import React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst initialState = {\n  isLoading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0,\n}\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchData = async () => {\n    dispatch({ type: 'loading' })\n    const response = await fetch(url);\n    const cart = await response.json();\n    dispatch({ type: 'display_items', payload: cart })\n  }\n  const clearCart = () => {\n    dispatch({ type: 'clear_cart' })\n  }\n  const removeItem = (id) => {\n    dispatch({ type: 'remove', payload: id })\n  }\n  const increase = (id) => {\n    dispatch({ type: 'increase', payload: id })\n  }\n  const decrease = (id) => {\n    dispatch({ type: 'decrease', payload: id })\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: 'get_totals' })\n  }, [state.cart])\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        removeItem,\n        increase,\n        decrease,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { removeItem, increase, decrease } = useGlobalContext();\n\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={() => removeItem(id)}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => increase(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => decrease(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext()\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        <header>\n          <h2>your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className='cart'>\n      <header>\n        <h2>your bag</h2>\n      </header>\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>{total}$</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={clearCart}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n\nfunction App() {\n  const {isLoading} = useGlobalContext();\n\n  if (isLoading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}